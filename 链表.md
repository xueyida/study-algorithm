链表的应用场景： LRU缓存淘汰算法



### 什么是链表

1. 数组是一种线性表结构

2. 数组是一组零散的内存块

### 链表的组成


- 头结点

    头节点用来记录链表的基地址（包括数据的）；

    有了头节点可以遍历整条链表

- 尾节点
    指向空地址NULL
- 



### 链表的种类

- 单链表

    结点的组成： 数据+后继指针

    查找复杂度：O（n）
    删除时间复杂度： O(1)  
    插入时间复杂度： O(1)

    删除的时候，必须先进行查询


- 循环链表
    
    尾结点指针，指向头节点

    使用场景： 使用的数据具有唤醒结构时




- 双向链表

    每个结点包括数据，后继指针、前驱指针

    双向链表与单向链表的对比：

    1. 双向链表比单链表占用更多的内存空间
    2. 双向链表支持双向遍历

    双向链表的优点：

        可以再O(1)复杂度的情况下，找到前驱节点
        【因为这个优点，双向链表再插入、删除时，不需要重新遍历链表，来找到前驱节点，使得插入删除更高效】

    
    插入、删除的复杂度已经是O(1)了，双向链表还能怎么高效？


    双向链表的应用： 有序链表
    
    空间换时间的操作


### 链表的存储



### 链表的操作

- 查找
    
    时间复杂度： O(n)

    单链表： 只能从头节点开始查找
    循环列表： 任意一个节点查找
    双向链表： 任意一个位置

    1. 已知一个元素的内容（不知道指针），查找该元素、该元素的Index
    2. 已知一个Index， 查找该元素、该元素的内容
    3. 已知一个元素（知道元素的指针），查找上一个元素
    5. 已知一个元素（知道元素的指针），查找下一个元素
    6. 叠加么么，已知一个元素的内容/index,查找上一个元素（先遍历）


- 插入

    插入的两种情况：


    - 已知元素的内容，插入（需要先遍历）

    - 已知元素的index,插入（需要先遍历）

    - 已知元素的所有内容(知道指针)

        1. 指定节点的前面插入结点

        单链表：需要遍历链表，找到前驱结点，时间复杂度O(n)
        双向链表：可以直接找到前驱结点，时间复杂度O(1)

        2. 指定节点的后面插入结点

        单链表：直接插入，复杂度O(1)
        双链表： 直接找到前面的结点，复杂度O(1)


        3. 在链表末尾插入 




- 删除

    1. 从表头删除
    2. 从表尾删除
    3. 已知某个node，删除指定的结点
    3. 已知某个node的内容，删除某个值的结点
    4. 已知某个node的index, 删除某个位置index的结点


    删除结点的两种情况

    1. 删除结点中，“值等于某个给定值”的结点 【删除的时间复杂度为O(1),遍历的时间复杂度O(n)】

        
        单链表： 遍历链表，时间复杂度为O(n) 

        双向链表：遍历链表，时间复杂度O(n)



    2. 删除给定指针指向的结点

        单链表： 需要找到前面的结点，复杂度O(n)
        双向链表： 直接找到前面的结点，时间复杂度O(1)




#### 数组与链表的对比

1. 数组在内存中是连续的，CPU的缓存机制，会预读数组中的数据，所以访问效率更高

2. 数组大小是固定的，过大过小都不是特别好

3. 对内存要求比较高的使用数组；频繁的对链表插入，删除，容易造成内存碎片


#### 作业

基于链表实现一个LRU缓存淘汰算法


#### 如何写好链表

- 多练

- 理解指针或引用的含义


- 警惕指针丢失和内存泄漏


- 利用哨兵简化实现难度

    针对链表的插入、删除，需要对插入的的第一个节点，删除的最后一个节点进行特殊处理；
    哨兵是用来解决边界问题

    有哨兵结点的链表叫做带头链表；相反，没有哨兵结点的链表叫做不带头链表

- 重点留意边界条件处理

    链表检测的边界条件：
    1. 如果链表为空，代码是否能正常工作
    2. 链表只有一个结点
    3. 链表只有两个结点
    4. 代码逻辑在处理头节点和尾节点的时候

- 举例画图，辅助思考

- 多写多练
    
    多写几遍，熟能生巧
    

    单链表反转
    链表中环的检测
    两个有序的链表的合并
    删除链表倒数第n个结点
    求链表的中间结点




#### 问题

1. 用javascript实现一个单链表、双链表、循环链表、循环双链表